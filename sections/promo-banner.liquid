<script src="{{ 'promo-banner.js' | asset_url }}" defer="defer"></script>
{{ 'promo-banner.css' | asset_url | stylesheet_tag }}

{%- if section.settings.reduce_size_on_mobile -%}
  {%- style -%}
    @media screen and (max-width: 749px) {
      .promo-banner__container {
        --countdown-box-height-mobile: 48px;
      }
      .promo-banner__container .promo-banner--heading p {
        margin-top: 4px;
        font-size: 1.6rem;
        line-height: 2.4rem;
      }
      .promo-banner--subheading {
        font-size: 1rem;
        line-height: 1.2rem;
      }
      .countdown-timer h3 {
        font-size: 2rem;
        line-height: 2.8rem;
      }
      .promo-banner__container .countdown-timer .countdown__box small {
        font-size: 1rem;
      }
    }
  {%- endstyle -%}
{%- endif -%}

{% render 'promo-banner' with section: section %}

{% schema %}
{
  "name": "Promo Banner",
  "blocks": [
    {
      "type": "promo_heading",
      "name": "Heading",
      "settings": [
        {
          "type": "richtext",
          "id": "heading",
          "label": "Heading"
        },
        {
         "type": "color", 
         "id": "heading_color",
         "label": "Heading Color",
         "default": "#271710"
        }
      ]
    },
    {
      "type": "promo_subheading",
      "name": "Subheading",
      "settings": [
        {
          "type": "richtext",
          "id": "subheading",
          "label": "Subheading"
        },
        {
          "type": "color", 
          "id": "subheading_color",
          "label": "Subheading Color",
          "default": "#271710"
         }
      ]
    },
    {
      "type": "promo_product_list",
      "name": "Product Images",
      "settings": [
        {
          "type": "product_list",
          "id": "product_list",
          "label": "Product Images",
          "info": "The product images will get displayed",
          "limit": 7
        }
      ]
    },
    {
      "type": "single_image",
      "name": "Single Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "single_image",
          "label": "Image"
        },
        {
          "type": "range",
          "id": "single_image_width_mobile",
          "min": 95,
          "max": 335,
          "step": 5,
          "unit": "px",
          "label": "Image Width | Mobile",
          "default": 170
        },
        {
          "type": "range",
          "id": "single_image_width_desktop",
          "min": 95,
          "max": 450,
          "step": 5,
          "unit": "px",
          "label": "Image Width | Desktop",
          "default": 250
        }
      ]
    },
    {
      "type": "promo_countdown_timer",
      "name": "Countdown Timer",
      "settings": [
        {
          "type": "radio",
          "id": "countdown_timer_type",
          "label": "Countdown Timer Setting",
          "options": [
            {
              "value": "repeating",
              "label": "Repeating"
            },
            {
              "value": "set_date",
              "label": "Set date"
            }
          ],
          "default": "repeating"
        },
        {
          "type": "text",
          "id": "countdown_timer_time_repeating",
          "label": "Countdown Time | Repeating",
          "info": "Use the format 'HH:mm' in military time (i.e., 05:30 means that the timer will start at 5 hours and 30 minutes)"
        },
        {
          "type": "text",
          "id": "countdown_timer_time_set",
          "label": "Countdown Time | Set date",
          "info": "Use the format: 'MM-DD-YYYY HH:mm' (i.e., 01-25-2022 13:00)"
        }
      ]
    },
    {
      "type": "promo_cta",
      "name": "CTA",
      "settings": [
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA text",
          "info": "Default: SHOP NOW",
          "default": "Shop now"
        },
        {
          "type": "url",
          "id": "cta_link",
          "label": "CTA link"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#F8E2C9",
      "info": "Will be 75% opacity"
    },
    {
      "type": "checkbox",
      "id": "enable_gradient",
      "label": "Enable Gradient Background",
      "default": false,
      "info": "Enabling Gradient Background will override the background color"
    },
    {
      "type": "color_background",
      "id": "bg_gradient",
      "label": "Background Gradient Color",
      "default": "linear-gradient(270deg, rgba(216, 235, 230, 0.5), rgba(172, 198, 159, 0.5))",
      "info": "Recommended to only use two color stops"
    },
    {
      "type": "color",
      "id": "color",
      "label": "Text Color",
      "default": "#271710"
    },
    {
      "type": "header",
      "content": "Custom Spacing"
    },
    {
      "type": "select",
      "id": "margin_top_mobile",
      "label": "Top Margin | Mobile",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "0",
          "label": "None"
        },
        {
          "value": "16px",
          "label": "16px"
        },
        {
          "value": "24px",
          "label": "24px"
        },
        {
          "value": "32px",
          "label": "32px"
        },
        {
          "value": "64px",
          "label": "64px"
        }
      ],
      "default": "default"
    },
    {
      "type": "select",
      "id": "margin_bottom_mobile",
      "label": "Bottom Margin | Mobile",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "0",
          "label": "None"
        },
        {
          "value": "16px",
          "label": "16px"
        },
        {
          "value": "24px",
          "label": "24px"
        },
        {
          "value": "32px",
          "label": "32px"
        },
        {
          "value": "64px",
          "label": "64px"
        }
      ],
      "default": "default"
    },
    {
      "type": "select",
      "id": "margin_top_desktop",
      "label": "Top Margin | Desktop",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "0",
          "label": "None"
        },
        {
          "value": "16px",
          "label": "16px"
        },
        {
          "value": "24px",
          "label": "24px"
        },
        {
          "value": "32px",
          "label": "32px"
        },
        {
          "value": "64px",
          "label": "64px"
        },
        {
          "value": "96px",
          "label": "96px"
        },
        {
          "value": "104px",
          "label": "104px"
        }
      ],
      "default": "default"
    },
    {
      "type": "select",
      "id": "margin_bottom_desktop",
      "label": "Bottom Margin | Desktop",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "0",
          "label": "None"
        },
        {
          "value": "16px",
          "label": "16px"
        },
        {
          "value": "24px",
          "label": "24px"
        },
        {
          "value": "32px",
          "label": "32px"
        },
        {
          "value": "64px",
          "label": "64px"
        },
        {
          "value": "96px",
          "label": "96px"
        },
        {
          "value": "104px",
          "label": "104px"
        }
      ],
      "default": "default"
    },
    {
      "type": "checkbox", 
      "id": "reduce_size_on_mobile",
      "label": "Reduce Size on Mobile",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Promo Banner"
    }
  ]
}
{% endschema %}
